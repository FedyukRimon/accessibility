(function webpackUniversalModuleDefinition(root, factory) {
	//accessibility output
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	//accessibility output
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	//accessibility output
	else if(typeof exports === 'object')
		exports["./dist"] = factory();
	//accessibility output
	else
		root["./dist"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/accessibility.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/accessibility.js":
/*!******************************!*\
  !*** ./src/accessibility.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main */ \"./src/main.js\");\n\r\n\r\n\r\nwindow.Accessibility = _main__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n\n//# sourceURL=webpack://./dist/./src/accessibility.js?");

/***/ }),

/***/ "./src/common.js":
/*!***********************!*\
  !*** ./src/common.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\nlet body = document.body || document.getElementsByTagName('body')[0];\r\n\r\nlet deployedMap = new Map();\r\n\r\nlet common = {\r\n    isIOS: () => {\r\n        if (typeof common._isIOS === 'boolean')\r\n            return common._isIOS;\r\n        const isIOS = () => {\r\n            var iDevices = [\r\n                'iPad Simulator',\r\n                'iPhone Simulator',\r\n                'iPod Simulator',\r\n                'iPad',\r\n                'iPhone',\r\n                'iPod'\r\n            ];\r\n\r\n            if (!!navigator.platform) {\r\n                while (iDevices.length) {\r\n                    if (navigator.platform === iDevices.pop()) { return true; }\r\n                }\r\n            }\r\n\r\n            return false;\r\n        };\r\n        common._isIOS = isIOS();\r\n        return common._isIOS;\r\n    },\r\n    jsonToHtml: (obj, reasource) => {\r\n        let elm = document.createElement(obj.type);\r\n        for (let i in obj.attrs) {\r\n            if (i.indexOf('#') === 0 && reasource)\r\n                elm.setAttribute(obj.attrs[i], reasource[i.substring(1)]);\r\n            else\r\n                elm.setAttribute(i, obj.attrs[i]);\r\n        }\r\n        for (let i in obj.children) {\r\n            let newElem = null;\r\n            if (obj.children[i].type == '#text') {\r\n                if (obj.children[i].text.indexOf('#') == 0)\r\n                    newElem = document.createTextNode(reasource[obj.children[i].text.substring(1)])\r\n                else\r\n                    newElem = document.createTextNode(obj.children[i].text);\r\n            }\r\n            else\r\n                newElem = common.jsonToHtml(obj.children[i], reasource);\r\n            if ((newElem && newElem.tagName && newElem.tagName.toLowerCase() !== 'undefined') || newElem.nodeType == 3)\r\n                elm.appendChild(newElem);\r\n        }\r\n        return elm;\r\n    },\r\n    injectStyle: (css, innerOptions = {}) => {\r\n        let sheet = document.createElement('style');\r\n        sheet.appendChild(document.createTextNode(css));\r\n        if (innerOptions.className)\r\n            sheet.classList.add(innerOptions.className);\r\n        body.appendChild(sheet);\r\n        return sheet;\r\n    },\r\n    getFormattedDim: (value) => {\r\n        if (!value) return null;\r\n\r\n        value = String(value);\r\n\r\n        let returnBySufix = function (val, sufix) {\r\n            return {\r\n                size: val.substring(0, val.indexOf(sufix)),\r\n                sufix: sufix\r\n            }\r\n        }\r\n\r\n        if (value.indexOf('%') > -1)\r\n            return returnBySufix(value, '%');\r\n        if (value.indexOf('px') > -1)\r\n            return returnBySufix(value, 'px');\r\n        if (value.indexOf('em') > -1)\r\n            return returnBySufix(value, 'em');\r\n        if (value.indexOf('rem') > -1)\r\n            return returnBySufix(value, 'rem');\r\n        if (value.indexOf('pt') > -1)\r\n            return returnBySufix(value, 'pt');\r\n        if (value == 'auto')\r\n            return returnBySufix(value, '');\r\n    },\r\n    extend: (src, dest) => {\r\n        for (let i in src) {\r\n            if (typeof src[i] === 'object') {\r\n                if (dest && dest[i])\r\n                    src[i] = common.extend(src[i], dest[i]);\r\n            }\r\n            else if (typeof dest === 'object' && typeof dest[i] !== 'undefined') {\r\n                src[i] = dest[i];\r\n            }\r\n        }\r\n        return src;\r\n    },\r\n    injectIconsFont(urls, callback) {\r\n        if (urls && urls.length) {\r\n            let head = document.getElementsByTagName('head')[0];\r\n            let counter = 0;\r\n            let onload = () => {\r\n                if (!--counter)\r\n                    callback();\r\n            }\r\n            urls.forEach(url => {\r\n                let link = document.createElement('link');\r\n                link.type = \"text/css\";\r\n                link.rel = \"stylesheet\";\r\n                link.href = url;\r\n                link.className = `_access-font-icon-${counter++}`;\r\n                link.onload = onload;\r\n                common.deployedObjects.set('.' + link.className, true);\r\n                head.appendChild(link);\r\n            });\r\n        }\r\n    },\r\n    getFixedFont(name) {\r\n        if (common.isIOS())\r\n            return name.replaceAll(' ', '+');\r\n        return name;\r\n    },\r\n    getFixedPseudoFont(name) {\r\n        if (common.isIOS())\r\n            return name.replaceAll('+', ' ');\r\n        return name;\r\n    },\r\n    isFontLoaded(fontFamily, callback) {\r\n        try {\r\n            const onReady = () => {\r\n                return callback(document.fonts.check(`1em ${fontFamily.replaceAll('+', ' ')}`));\r\n                // return callback(document.fonts.check(`1em ${fontFamily}`));\r\n            }\r\n            document.fonts.ready.then(() => {\r\n                onReady();\r\n            }, () => {\r\n                onReady();\r\n            });\r\n        }\r\n        catch (e) {\r\n            return callback(true);\r\n        }\r\n    },\r\n    warn(msg) {\r\n        let prefix = 'Accessibility: ';\r\n        if (console.warn)\r\n            console.warn(prefix + msg);\r\n        else\r\n            console.log(prefix + msg);\r\n    },\r\n    deployedObjects: {\r\n        get: (key) => {\r\n            return deployedMap.get(key);\r\n        },\r\n        contains: (key) => {\r\n            return deployedMap.has(key);\r\n        },\r\n        set: (key, val) => {\r\n            deployedMap.set(key, val);\r\n        },\r\n        remove: (key) => {\r\n            deployedMap.delete(key);\r\n        },\r\n        getAll: () => {\r\n            return deployedMap;\r\n        }\r\n    }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (common);\n\n//# sourceURL=webpack://./dist/./src/common.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! exports provided: Accessibility, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Accessibility\", function() { return Accessibility; });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common */ \"./src/common.js\");\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storage */ \"./src/storage.js\");\n\r\n\r\n\r\n\r\n// const fonts = ['https://fonts.googleapis.com/icon?family=Material+Icons'];\r\n// common.injectIconsFont(fonts);\r\n// Default options\r\nlet _options = {\r\n    icon: {\r\n        position: {\r\n            bottom: { size: 50, units: 'px' },\r\n            right: { size: 10, units: 'px' },\r\n            type: 'fixed'\r\n        },\r\n        dimensions: {\r\n            width: { size: 50, units: 'px' },\r\n            height: { size: 50, units: 'px' }\r\n        },\r\n        zIndex: '9999',\r\n        backgroundColor: '#4054b2',\r\n        color: '#fff',\r\n        img: 'accessible',\r\n        circular: false,\r\n        circularBorder: false,\r\n        fontFaceSrc: ['https://fonts.googleapis.com/icon?family=Material+Icons'],\r\n        fontFamily: _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getFixedFont('Material Icons'),\r\n        fontClass: 'material-icons',\r\n        useEmojis: false\r\n    },\r\n    hotkeys: {\r\n        enabled: false,\r\n        helpTitles: true,\r\n        keys: {\r\n            toggleMenu: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                65\r\n            ],\r\n            invertColors: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                73\r\n            ],\r\n            grayHues: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                71\r\n            ],\r\n            underlineLinks: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                85\r\n            ],\r\n            bigCursor: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                67\r\n            ],\r\n            readingGuide: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                82\r\n            ],\r\n            textToSpeech: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                84\r\n            ],\r\n            speechToText: [\r\n                'ctrlKey',\r\n                'altKey',\r\n                83\r\n            ]\r\n        }\r\n    },\r\n    buttons: {\r\n        font: { size: 18, units: 'px' }\r\n    },\r\n    guide: {\r\n        cBorder: '#20ff69',\r\n        cBackground: '#000000',\r\n        height: '12px'\r\n    },\r\n    menu: {\r\n        dimensions: {\r\n            width: { size: 25, units: 'vw' },\r\n            height: { size: 'auto', units: '' }\r\n        },\r\n        fontFamily: 'RobotoDraft, Roboto, sans-serif, Arial'\r\n    },\r\n    labels: {\r\n        resetTitle: 'Reset',\r\n        closeTitle: 'Close',\r\n        menuTitle: 'Accessibility Options',\r\n        increaseText: 'increase text size',\r\n        decreaseText: 'decrease text size',\r\n        increaseTextSpacing: 'increase text spacing',\r\n        decreaseTextSpacing: 'decrease text spacing',\r\n        invertColors: 'invert colors',\r\n        grayHues: 'gray hues',\r\n        bigCursor: 'big cursor',\r\n        readingGuide: 'reading guide',\r\n        underlineLinks: 'underline links',\r\n        textToSpeech: 'text to speech',\r\n        speechToText: 'speech to text'\r\n    },\r\n    textToSpeechLang: 'en-US',\r\n    speechToTextLang: 'en-US',\r\n    textPixelMode: false,\r\n    textEmlMode: true,\r\n    animations: {\r\n        buttons: true\r\n    },\r\n    modules: {\r\n        increaseText: true,\r\n        decreaseText: true,\r\n        increaseTextSpacing: true,\r\n        decreaseTextSpacing: true,\r\n        invertColors: true,\r\n        grayHues: true,\r\n        bigCursor: true,\r\n        readingGuide: true,\r\n        underlineLinks: true,\r\n        textToSpeech: true,\r\n        speechToText: true\r\n    },\r\n    session: {\r\n        persistent: true\r\n    }\r\n};\r\n\r\nlet self = null;\r\n\r\nclass Accessibility {\r\n    constructor(options = {}) {\r\n        self = this;\r\n        options = this.deleteOppositesIfDefined(options);\r\n        this.options = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].extend(_options, options);\r\n        // Consider adding this:\r\n        // if (options) {\r\n        //     if (!options.textToSpeechLang && document.querySelector('html').getAttribute('lang')) {\r\n        //         this.options.textToSpeechLang = document.querySelector('html').getAttribute('lang')\r\n        //     }\r\n        // }\r\n        this.disabledUnsupportedFeatures();\r\n        this.sessionState = {\r\n            textSize: 0,\r\n            textSpace: 0,\r\n            invertColors: false,\r\n            grayHues: false,\r\n            underlineLinks: false,\r\n            bigCursor: false,\r\n            readingGuide: false\r\n        };\r\n        if (this.options.icon.useEmojis) {\r\n            this.fontFallback();\r\n            this.build();\r\n        }\r\n        else {\r\n            _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].injectIconsFont(this.options.icon.fontFaceSrc, () => {\r\n                this.build();\r\n                if (!this.options.icon.forceFont) {\r\n                    setTimeout(() => {\r\n                        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isFontLoaded(this.options.icon.fontFamily, (isLoaded) => {\r\n                            if (!isLoaded) {\r\n                                _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].warn(`${this.options.icon.fontFamily} font was not loaded, using emojis instead`);\r\n                                this.fontFallback();\r\n                                this.destroy();\r\n                                this.build();\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        if (this.options.modules.speechToText) {\r\n            window.addEventListener('beforeunload', () => {\r\n                if (this.isReading) {\r\n                    window.speechSynthesis.cancel();\r\n                    this.isReading = false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    initFontSize() {\r\n        // store this values only once.\r\n        if (!this.htmlInitFS) {\r\n            let htmlInitFS = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getFormattedDim(getComputedStyle(this.html).fontSize);\r\n            let bodyInitFS = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getFormattedDim(getComputedStyle(this.body).fontSize);\r\n            this.html.style.fontSize = (htmlInitFS.size / 16 * 100) + '%';\r\n            this.htmlOrgFontSize = this.html.style.fontSize;\r\n            this.body.style.fontSize = (bodyInitFS.size / htmlInitFS.size) + 'em';\r\n        }\r\n    }\r\n\r\n    fontFallback() {\r\n        this.options.icon.useEmojis = true;\r\n        this.options.icon.fontFamily = null;\r\n        this.options.icon.img = '♿';\r\n        this.options.icon.fontClass = '';\r\n    }\r\n\r\n    deleteOppositesIfDefined(options) {\r\n        if (options.icon && options.icon.position) {\r\n            if (options.icon.position.left) {\r\n                delete _options.icon.position.right;\r\n                _options.icon.position.left = options.icon.position.left;\r\n            }\r\n            if (options.icon.position.top) {\r\n                delete _options.icon.position.bottom;\r\n                _options.icon.position.top = options.icon.position.top;\r\n            }\r\n        }\r\n        return options;\r\n    }\r\n\r\n    disabledUnsupportedFeatures() {\r\n        if (!('webkitSpeechRecognition' in window) || location.protocol != 'https:') {\r\n            _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].warn('speech to text isn\\'t supported in this browser or in http protocol (https required)');\r\n            this.options.modules.speechToText = false;\r\n        }\r\n        if (!window.SpeechSynthesisUtterance || !window.speechSynthesis) {\r\n            _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].warn('text to speech isn\\'t supported in this browser');\r\n            this.options.modules.textToSpeech = false;\r\n        }\r\n        if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\r\n            _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].warn('grayHues isn\\'t supported in firefox');\r\n            this.options.modules.grayHues = false;\r\n        }\r\n    }\r\n\r\n    injectCss() {\r\n        let css = `\r\n        ._access-scrollbar::-webkit-scrollbar-track, .mat-autocomplete-panel::-webkit-scrollbar-track, .mat-tab-body-content::-webkit-scrollbar-track, .mat-select-panel:not([class*='mat-elevation-z'])::-webkit-scrollbar-track, .mat-menu-panel::-webkit-scrollbar-track {\r\n            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\r\n            background-color: #F5F5F5;\r\n        }\r\n        \r\n        ._access-scrollbar::-webkit-scrollbar, .mat-autocomplete-panel::-webkit-scrollbar, .mat-tab-body-content::-webkit-scrollbar, .mat-select-panel:not([class*='mat-elevation-z'])::-webkit-scrollbar, .mat-menu-panel::-webkit-scrollbar {\r\n            width: 6px;\r\n            background-color: #F5F5F5;\r\n        }\r\n        \r\n        ._access-scrollbar::-webkit-scrollbar-thumb, .mat-autocomplete-panel::-webkit-scrollbar-thumb, .mat-tab-body-content::-webkit-scrollbar-thumb, .mat-select-panel:not([class*='mat-elevation-z'])::-webkit-scrollbar-thumb, .mat-menu-panel::-webkit-scrollbar-thumb {\r\n            background-color: #999999;\r\n        }\r\n        ._access-icon {\r\n            position: ${this.options.icon.position.type};\r\n            background-repeat: no-repeat;\r\n            background-size: contain;\r\n            cursor: pointer;\r\n            opacity: 0;\r\n            transition-duration: .5s;\r\n            -moz-user-select: none;\r\n            -webkit-user-select: none;\r\n            -ms-user-select: none;\r\n            user-select: none;\r\n            ${!this.options.icon.useEmojis ? 'box-shadow: 1px 1px 5px rgba(0,0,0,.5);' : ''}\r\n            transform: ${!this.options.icon.useEmojis ? 'scale(1)' : 'skewX(18deg)'};\r\n        }\r\n        ._access-icon:hover {\r\n            ` + (this.options.animations.buttons && !this.options.icon.useEmojis ? `\r\n            box-shadow: 1px 1px 10px rgba(0,0,0,.9);\r\n            transform: scale(1.1);\r\n            ` : '') + `\r\n        }\r\n        .circular._access-icon {\r\n            border-radius: 50%;\r\n            border: .5px solid white;\r\n        }\r\n        ` + (this.options.animations.buttons && this.options.icon.circularBorder ? `\r\n        .circular._access-icon:hover {\r\n            border: 5px solid white;\r\n            border-style: double;\r\n            font-size: 35px!important;\r\n            vertical-align: middle;\r\n            padding-top: 2px;\r\n            text-align: center;\r\n        }\r\n        ` : '') + `\r\n        .access_read_guide_bar{\r\n            box-sizing: border-box;\r\n            background: ${this.options.guide.cBackground};\r\n            width: 100%!important;\r\n            min-width: 100%!important;\r\n            position: fixed!important;\r\n            height: ${this.options.guide.height} !important;\r\n            border: solid 3px ${this.options.guide.cBorder};\r\n            border-radius: 5px;\r\n            top: 15px;\r\n            z-index: 2147483647;\r\n        }\r\n        .access-high-contrast *{\r\n            background-color: #000 !important;\r\n            background-image: none !important;\r\n            border-color: #fff !important;\r\n            -webkit-box-shadow: none !important;\r\n            box-shadow: none !important;\r\n            color: #fff !important;\r\n            text-indent: 0 !important;\r\n            text-shadow: none !important;\r\n        }\r\n        ._access-menu {\r\n            -moz-user-select: none;\r\n            -webkit-user-select: none;\r\n            -ms-user-select: none;\r\n            user-select: none;\r\n            position: fixed;\r\n            width: ${this.options.menu.dimensions.width.size + this.options.menu.dimensions.width.units};\r\n            height: ${this.options.menu.dimensions.height.size + this.options.menu.dimensions.height.units};\r\n            transition-duration: .5s;\r\n            z-index: ${this.options.icon.zIndex + 1};\r\n            opacity: 1;\r\n            background-color: #fff;\r\n            color: #000;\r\n            border-radius: 3px;\r\n            border: solid 1px #f1f0f1;\r\n            font-family: ${this.options.menu.fontFamily};\r\n            min-width: 300px;\r\n            box-shadow: 0px 0px 1px #aaa;\r\n            max-height: 100vh;\r\n            ${(getComputedStyle(this.body).direction == 'rtl' ? 'text-indent: -5px' : '')}\r\n        }\r\n        ._access-menu.close {\r\n            z-index: -1;\r\n            width: 0;\r\n            opacity: 0;\r\n            background-color: transparent;\r\n        }\r\n        ._access-menu.bottom {\r\n            bottom: 0;\r\n        }\r\n        ._access-menu.top {\r\n            top: 0;\r\n        }\r\n        ._access-menu.left {\r\n            left: 0;\r\n        }\r\n        ._access-menu.close.left {\r\n            left: -${this.options.menu.dimensions.width.size + this.options.menu.dimensions.width.units};\r\n        }\r\n        ._access-menu.right {\r\n            right: 0;\r\n        }\r\n        ._access-menu.close.right {\r\n            right: -${this.options.menu.dimensions.width.size + this.options.menu.dimensions.width.units};\r\n        }\r\n        ._access-menu ._text-center {\r\n            text-align: center;\r\n        }\r\n        ._access-menu h3 {\r\n            font-size: 24px !important;\r\n            margin-top: 20px;\r\n            margin-bottom: 20px;\r\n            padding: 0;\r\n            color: rgba(0,0,0,.87);\r\n            letter-spacing: initial!important;\r\n            word-spacing: initial!important;\r\n        }\r\n        ._access-menu ._menu-close-btn {\r\n            left: 5px;\r\n            color: #d63c3c;\r\n            transition: .3s ease;\r\n            transform: rotate(0deg);\r\n        }\r\n        ._access-menu ._menu-reset-btn:hover,._access-menu ._menu-close-btn:hover {\r\n            ${(this.options.animations.buttons ? 'transform: rotate(180deg);' : '')}\r\n        }\r\n        ._access-menu ._menu-reset-btn {\r\n            right: 5px;\r\n            color: #4054b2;\r\n            transition: .3s ease;\r\n            transform: rotate(0deg);\r\n        }\r\n        ._access-menu ._menu-btn {\r\n            position: absolute;\r\n            top: 5px;\r\n            cursor: pointer;\r\n            font-size: 24px !important;\r\n            font-weight: bold;\r\n        }\r\n        ._access-menu ul {\r\n            padding: 0;\r\n            position: relative;\r\n            font-size: 18px !important;\r\n            margin: 0;\r\n            overflow: auto;\r\n            max-height: calc(100vh - 77px);\r\n        }\r\n        html._access_cursor * {\r\n            cursor: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyOS4xODhweCIgaGVpZ2h0PSI0My42MjVweCIgdmlld0JveD0iMCAwIDI5LjE4OCA0My42MjUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI5LjE4OCA0My42MjUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iI0Q5REFEOSIgc3Ryb2tlLXdpZHRoPSIxLjE0MDYiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRzPSIyLjgsNC41NDkgMjYuODQ3LDE5LjkwMiAxNi45NjQsMjIuNzAxIDI0LjIzOSwzNy43NDkgMTguMjc4LDQyLjAxNyA5Ljc0MSwzMC43MjQgMS4xMzgsMzUuODA5ICIvPjxnPjxnPjxnPjxwYXRoIGZpbGw9IiMyMTI2MjciIGQ9Ik0yOS4xNzUsMjEuMTU1YzAuMDcxLTAuNjEzLTAuMTY1LTEuMjUzLTAuNjM1LTEuNTczTDIuMTY1LDAuMjU4Yy0wLjQyNC0wLjMyLTAuOTg4LTAuMzQ2LTEuNDM1LTAuMDUzQzAuMjgyLDAuNDk3LDAsMS4wMywwLDEuNjE3djM0LjE3MWMwLDAuNjEzLDAuMzA2LDEuMTQ2LDAuNzc2LDEuNDM5YzAuNDcxLDAuMjY3LDEuMDU5LDAuMjEzLDEuNDgyLTAuMTZsNy40ODItNi4zNDRsNi44NDcsMTIuMTU1YzAuMjU5LDAuNDgsMC43MjksMC43NDYsMS4yLDAuNzQ2YzAuMjM1LDAsMC40OTQtMC4wOCwwLjcwNi0wLjIxM2w2Ljk4OC00LjU4NWMwLjMyOS0wLjIxMywwLjU2NS0wLjU4NiwwLjY1OS0xLjAxM2MwLjA5NC0wLjQyNiwwLjAyNC0wLjg4LTAuMTg4LTEuMjI2bC02LjM3Ni0xMS4zODJsOC42MTEtMi43NDVDMjguNzA1LDIyLjI3NCwyOS4xMDUsMjEuNzY4LDI5LjE3NSwyMS4xNTV6IE0xNi45NjQsMjIuNzAxYy0wLjQyNCwwLjEzMy0wLjc3NiwwLjUwNi0wLjk0MSwwLjk2Yy0wLjE2NSwwLjQ4LTAuMTE4LDEuMDEzLDAuMTE4LDEuNDM5bDYuNTg4LDExLjc4MWwtNC41NDEsMi45ODVsLTYuODk0LTEyLjMxNWMtMC4yMTItMC4zNzMtMC41NDEtMC42NC0wLjk0MS0wLjcyYy0wLjA5NC0wLjAyNy0wLjE2NS0wLjAyNy0wLjI1OS0wLjAyN2MtMC4zMDYsMC0wLjU4OCwwLjEwNy0wLjg0NywwLjMyTDIuOCwzMi41OVY0LjU0OWwyMS41OTksMTUuODA2TDE2Ljk2NCwyMi43MDF6Ii8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==),auto!important;\r\n        }\r\n        ._access-menu ul li {\r\n            list-style-type: none;\r\n            cursor: pointer;\r\n            -ms-user-select: none;\r\n            -moz-user-select: none;\r\n            -webkit-user-select: none;\r\n            user-select: none;\r\n            border: solid 1px #f1f0f1;\r\n            padding: 10px 0 10px 30px;\r\n            margin: 5px;\r\n            border-radius: 4px;\r\n            transition-duration: .5s;\r\n            transition-timing-function: ease-in-out;\r\n            font-size: ${this.options.buttons.font.size + this.options.buttons.font.units} !important;\r\n            line-height: ${this.options.buttons.font.size + this.options.buttons.font.units} !important;\r\n            text-indent: 5px;\r\n            background: #f9f9f9;\r\n            color: rgba(0,0,0,.6);\r\n            letter-spacing: initial!important;\r\n            word-spacing: initial!important;\r\n        }\r\n        ._access-menu ul.before-collapse li {\r\n            opacity: 0.05;\r\n        }\r\n        ._access-menu ul li.active, ._access-menu ul li.active:hover {\r\n            color: #fff;\r\n            background-color: #000;\r\n        }\r\n        ._access-menu ul li:hover {\r\n            color: rgba(0,0,0,.8);\r\n            background-color: #eaeaea;\r\n        }\r\n        ._access-menu ul li.not-supported {\r\n            display: none;\r\n        }\r\n        ._access-menu ul li:before {\r\n            content: ' ';\r\n            ${!this.options.icon.useEmojis ? 'font-family: ' + _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getFixedPseudoFont(this.options.icon.fontFamily) + ';' : ''}\r\n            text-rendering: optimizeLegibility;\r\n            font-feature-settings: \"liga\" 1;\r\n            font-style: normal;\r\n            text-transform: none;\r\n            line-height: ${!this.options.icon.useEmojis ? '1' : '1.1'};\r\n            font-size: ${!this.options.icon.useEmojis ? '24px' : '20px'} !important;\r\n            width: 30px;\r\n            height: 30px;\r\n            display: inline-block;\r\n            overflow: hidden;\r\n            -webkit-font-smoothing: antialiased;\r\n            left: 8px;\r\n            position: absolute;\r\n            color: rgba(0,0,0,.6);\r\n            direction: ltr;\r\n        }\r\n        ._access-menu ul li svg path {\r\n            fill: rgba(0,0,0,.6);\r\n        }\r\n        ._access-menu ul li:hover svg path {\r\n            fill: rgba(0,0,0,.8);\r\n        }\r\n        ._access-menu ul li.active svg path {\r\n            fill: #fff;\r\n        }\r\n        ._access-menu ul li:hover:before {\r\n            color: rgba(0,0,0,.8);\r\n        }\r\n        ._access-menu ul li.active:before {\r\n            color: #fff;\r\n        }\r\n        ._access-menu ul li[data-access-action=\"increaseText\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"zoom_in\"' : '\"🔼\"'};\r\n        }\r\n        ._access-menu ul li[data-access-action=\"decreaseText\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"zoom_out\"' : '\"🔽\"'};\r\n        }\r\n        ._access-menu ul li[data-access-action=\"increaseTextSpacing\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"unfold_more\"' : '\"🔼\"'};\r\n            transform: rotate(90deg) translate(-7px, 2px);\r\n        }\r\n        ._access-menu ul li[data-access-action=\"decreaseTextSpacing\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"unfold_less\"' : '\"🔽\"'};\r\n            transform: rotate(90deg) translate(-7px, 2px);\r\n        }\r\n        ._access-menu ul li[data-access-action=\"invertColors\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"invert_colors\"' : '\"🎆\"'};\r\n        }\r\n        ._access-menu ul li[data-access-action=\"grayHues\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"format_color_reset\"' : '\"🌫️\"'};\r\n        }\r\n        ._access-menu ul li[data-access-action=\"underlineLinks\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"format_underlined\"' : '\"💯\"'};\r\n        }\r\n        ._access-menu ul li[data-access-action=\"bigCursor\"]:before {\r\n            /*content: 'touch_app';*/\r\n        }\r\n        ._access-menu ul li[data-access-action=\"readingGuide\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"border_horizontal\"' : '\"↔️\"'};\r\n        }\r\n        ._access-menu ul li[data-access-action=\"textToSpeech\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"record_voice_over\"' : '\"⏺️\"'};\r\n        }\r\n        ._access-menu ul li[data-access-action=\"speechToText\"]:before {\r\n            content: ${!this.options.icon.useEmojis ? '\"mic\"' : '\"🎤\"'};\r\n        }`;\r\n        let className = '_access-main-css';\r\n        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].injectStyle(css, { className: className });\r\n        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.set('.' + className, false);\r\n    }\r\n\r\n    injectIcon() {\r\n        //let iStyle = `background-image: url(\"` + options.icon.src + `\"); width: ` + options.icon.dimensions.width.size +\r\n        let fontSize = this.options.icon.dimensions.width.size * 0.8;\r\n        let lineHeight = this.options.icon.dimensions.width.size * 0.9;\r\n        let textIndent = this.options.icon.dimensions.width.size * 0.1;\r\n        let iStyle = `width: ${this.options.icon.dimensions.width.size + this.options.icon.dimensions.width.units}\r\n            ;height: ${this.options.icon.dimensions.height.size + this.options.icon.dimensions.height.units}\r\n            ;font-size: ${fontSize + this.options.icon.dimensions.width.units}\r\n            ;line-height: ${lineHeight + this.options.icon.dimensions.width.units}\r\n            ;text-indent: ${textIndent + this.options.icon.dimensions.width.units}\r\n            ;background-color: ${!this.options.icon.useEmojis ? this.options.icon.backgroundColor : 'transparent'};color: ${this.options.icon.color}`;\r\n        for (let i in this.options.icon.position) {\r\n            iStyle += ';' + i + ':' + this.options.icon.position[i].size + this.options.icon.position[i].units;\r\n        }\r\n        iStyle += `;z-index: ${this.options.icon.zIndex}`;\r\n        let className = `_access-icon ${this.options.icon.fontClass} _access` + (this.options.icon.circular ? ' circular' : '');\r\n        let iconElem = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].jsonToHtml({\r\n            type: 'i',\r\n            attrs: {\r\n                'class': className,\r\n                'style': iStyle,\r\n                'title': this.options.labels.menuTitle\r\n            },\r\n            children: [\r\n                {\r\n                    type: '#text',\r\n                    text: this.options.icon.img\r\n                }\r\n            ]\r\n        });\r\n\r\n        this.body.appendChild(iconElem);\r\n        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.set('._access-icon', false);\r\n        return iconElem;\r\n    }\r\n\r\n    parseKeys(arr) {\r\n        return (this.options.hotkeys.enabled ? (this.options.hotkeys.helpTitles ? 'Hotkey: ' + arr.map(function (val) { return Number.isInteger(val) ? String.fromCharCode(val).toLowerCase() : val.replace('Key', '') }).join('+') : '') : '')\r\n    }\r\n\r\n    injectMenu() {\r\n        let menuElem = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].jsonToHtml({\r\n            type: 'div',\r\n            attrs: {\r\n                'class': '_access-menu close _access'\r\n            },\r\n            children: [\r\n                {\r\n                    type: 'h3',\r\n                    attrs: {\r\n                        'class': '_text-center'\r\n                    },\r\n                    children: [\r\n                        {\r\n                            type: 'i',\r\n                            attrs: {\r\n                                'class': `_menu-close-btn _menu-btn ${this.options.icon.fontClass}`,\r\n                                'title': this.options.labels.closeTitle\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: `${!this.options.icon.useEmojis ? 'close' : 'X'}`\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: '#text',\r\n                            text: this.options.labels.menuTitle\r\n                        },\r\n                        {\r\n                            type: 'i',\r\n                            attrs: {\r\n                                'class': `_menu-reset-btn _menu-btn ${this.options.icon.fontClass}`,\r\n                                'title': this.options.labels.resetTitle\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: `${!this.options.icon.useEmojis ? 'refresh' : '♲'}`\r\n                                }\r\n                            ]\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'ul',\r\n                    attrs: {\r\n                        'class': (this.options.animations.buttons ? 'before-collapse _access-scrollbar' : '_access-scrollbar')\r\n                    },\r\n                    children: [\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'increaseText'\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.increaseText\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'decreaseText'\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.decreaseText\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'increaseTextSpacing'\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.increaseTextSpacing\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'decreaseTextSpacing'\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.decreaseTextSpacing\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'invertColors',\r\n                                'title': this.parseKeys(this.options.hotkeys.keys.invertColors)\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.invertColors\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'grayHues',\r\n                                'title': this.parseKeys(this.options.hotkeys.keys.grayHues)\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.grayHues\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'underlineLinks',\r\n                                'title': this.parseKeys(this.options.hotkeys.keys.underlineLinks)\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.underlineLinks\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'bigCursor',\r\n                                'title': this.parseKeys(this.options.hotkeys.keys.bigCursor)\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: 'div',\r\n                                    attrs: {\r\n                                        'id': 'iconBigCursor',\r\n                                    }\r\n                                },\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.bigCursor\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'readingGuide',\r\n                                'title': this.parseKeys(this.options.hotkeys.keys.readingGuide)\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.readingGuide\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'textToSpeech'\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.textToSpeech\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: 'li',\r\n                            attrs: {\r\n                                'data-access-action': 'speechToText'\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    type: '#text',\r\n                                    text: this.options.labels.speechToText\r\n                                }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        });\r\n\r\n        for (let i in this.options.icon.position) {\r\n            menuElem.classList.add(i);\r\n        }\r\n\r\n        this.body.appendChild(menuElem);\r\n        setTimeout(function () {\r\n            let ic = document.getElementById('iconBigCursor');\r\n            if (ic) {\r\n                ic.outerHTML = ic.outerHTML + '<svg version=\"1.1\" id=\"iconBigCursorSvg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" style=\"position: absolute;width: 19px;height: 19px;left: 17px;enable-background:new 0 0 512 512;\" xml:space=\"preserve\"><path d=\"M 423.547 323.115 l -320 -320 c -3.051 -3.051 -7.637 -3.947 -11.627 -2.304 s -6.592 5.547 -6.592 9.856 V 480 c 0 4.501 2.837 8.533 7.083 10.048 c 4.224 1.536 8.981 0.192 11.84 -3.285 l 85.205 -104.128 l 56.853 123.179 c 1.792 3.883 5.653 6.187 9.685 6.187 c 1.408 0 2.837 -0.277 4.203 -0.875 l 74.667 -32 c 2.645 -1.131 4.736 -3.285 5.76 -5.973 c 1.024 -2.688 0.939 -5.675 -0.277 -8.299 l -57.024 -123.52 h 132.672 c 4.309 0 8.213 -2.603 9.856 -6.592 C 427.515 330.752 426.598 326.187 423.547 323.115 Z\"/></svg>';\r\n                document.getElementById('iconBigCursor').remove();\r\n            }\r\n        }, 1);\r\n        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.set('._access-menu', false);\r\n        let closeBtn = document.querySelector('._access-menu ._menu-close-btn');\r\n        closeBtn.addEventListener('click', () => {\r\n            this.toggleMenu();\r\n        }, false);\r\n        let resetBtn = document.querySelector('._access-menu ._menu-reset-btn');\r\n        resetBtn.addEventListener('click', () => { this.resetAll(); }, false);\r\n\r\n        return menuElem;\r\n    }\r\n\r\n    addListeners() {\r\n        let lis = document.querySelectorAll('._access-menu ul li');\r\n\r\n        for (let i = 0; i < lis.length; i++) {\r\n            lis[i].addEventListener('click', (e) => {\r\n                let evt = e || window.event\r\n                this.invoke(evt.target.getAttribute('data-access-action'));\r\n            }, false);\r\n        }\r\n    }\r\n\r\n    disableUnsupportedModules() {\r\n        for (let i in this.options.modules) {\r\n            if (!this.options.modules[i]) {\r\n                let moduleLi = document.querySelector('li[data-access-action=\"' + i + '\"]');\r\n                if (moduleLi) {\r\n                    moduleLi.classList.add('not-supported');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    resetAll() {\r\n        //window.location.reload();\r\n        this.menuInterface.textToSpeech(true);\r\n        this.menuInterface.speechToText(true);\r\n        this.menuInterface.underlineLinks(true);\r\n        this.menuInterface.grayHues(true);\r\n        this.menuInterface.invertColors(true);\r\n        this.menuInterface.bigCursor(true);\r\n        this.menuInterface.readingGuide(true);\r\n        this.resetTextSize();\r\n        this.resetTextSpace();\r\n        // for (let i of document.querySelectorAll('._access-menu ul li.active')) {\r\n        //     i.classList.remove('active');\r\n        // }\r\n        //this.destroy();\r\n    };\r\n\r\n    resetTextSize() {\r\n        this.resetIfDefined(this.initialValues.body.fontSize, this.body.style, 'fontSize');\r\n        if (typeof this.htmlOrgFontSize !== 'undefined')\r\n            this.html.style.fontSize = this.htmlOrgFontSize;\r\n        let all = document.querySelectorAll('[data-init-font-size]')\r\n\r\n        for (let i = 0; i < all.length; i++) {\r\n            all[i].style.fontSize = all[i].getAttribute('data-init-font-size');\r\n            all[i].removeAttribute('data-init-font-size');\r\n        }\r\n\r\n        this.sessionState.textSize = 0;\r\n        this.onChange(true);\r\n    }\r\n\r\n    resetTextSpace() {\r\n        this.resetIfDefined(this.initialValues.body.wordSpacing, this.body.style, 'wordSpacing');\r\n        this.resetIfDefined(this.initialValues.body.letterSpacing, this.body.style, 'letterSpacing');\r\n        let all = document.querySelectorAll('[data-init-word-spacing]');\r\n        let all2 = document.querySelectorAll('[data-init-letter-spacing]');\r\n\r\n        for (let i = 0; i < all.length; i++) {\r\n            all[i].style.wordSpacing = all[i].getAttribute('data-init-word-spacing');\r\n            all[i].removeAttribute('data-init-word-spacing');\r\n        }\r\n        for (let i = 0; i < all2.length; i++) {\r\n            all[i].style.letterSpacing = all[i].getAttribute('data-init-letter-spacing');\r\n            all[i].removeAttribute('data-init-letter-spacing');\r\n        }\r\n\r\n        this.sessionState.textSpace = 0;\r\n        this.onChange(true);\r\n    }\r\n\r\n    alterTextSize(isIncrease) {\r\n        this.sessionState.textSize += isIncrease ? 1 : -1;\r\n        this.onChange(true);\r\n        let factor = 2;\r\n        if (!isIncrease)\r\n            factor *= -1;\r\n        if (this.options.textPixelMode) {\r\n            let all = document.querySelectorAll('*:not(._access)');\r\n\r\n            for (let i = 0; i < all.length; i++) {\r\n                let fSize = getComputedStyle(all[i]).fontSize;\r\n                if (fSize && (fSize.indexOf('px') > -1)) {\r\n                    if (!all[i].getAttribute('data-init-font-size'))\r\n                        all[i].setAttribute('data-init-font-size', fSize);\r\n                    fSize = (fSize.replace('px', '') * 1) + factor;\r\n                    all[i].style.fontSize = fSize + 'px';\r\n                }\r\n            }\r\n        }\r\n        else if (this.options.textEmlMode) {\r\n            let fp = this.html.style.fontSize;\r\n            if (fp.indexOf('%')) {\r\n                fp = fp.replace('%', '') * 1;\r\n                this.html.style.fontSize = (fp + factor) + '%';\r\n            }\r\n            else {\r\n                _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].warn('Accessibility.textEmlMode, html element is not set in %.');\r\n            }\r\n        }\r\n        else {\r\n            let fSize = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getFormattedDim(getComputedStyle(this.body).fontSize);\r\n            if (typeof this.initialValues.body.fontSize === 'undefined')\r\n                this.initialValues.body.fontSize = fSize.size + fSize.sufix;\r\n            if (fSize && fSize.sufix && !isNaN(fSize.size * 1)) {\r\n                this.body.style.fontSize = ((fSize.size * 1) + factor) + fSize.sufix;\r\n            }\r\n        }\r\n    }\r\n\r\n    alterTextSpace(isIncrease) {\r\n        this.sessionState.textSpace += isIncrease ? 1 : -1;\r\n        this.onChange(true);\r\n        let factor = 1;\r\n        if (!isIncrease)\r\n            factor *= -1;\r\n        if (this.options.textPixelMode) {\r\n            let all = document.querySelectorAll('*:not(._access)');\r\n            let exclude = Array.prototype.slice.call(document.querySelectorAll('._access-menu *'));\r\n            for (let i = 0; i < all.length; i++) {\r\n                if (exclude.includes(all[i])) {\r\n                    continue;\r\n                }\r\n                // wordSpacing\r\n                //let fSpacing = getComputedStyle(all[i]).wordSpacing;\r\n                let fSpacing = all[i].style.wordSpacing;\r\n                if (fSpacing && (fSpacing.indexOf('px') > -1)) {\r\n                    if (!all[i].getAttribute('data-init-word-spacing'))\r\n                        all[i].setAttribute('data-init-word-spacing', fSpacing);\r\n                    fSpacing = (fSpacing.replace('px', '') * 1) + factor;\r\n                    all[i].style.wordSpacing = fSpacing + 'px';\r\n                } else {\r\n                    all[i].setAttribute('data-init-word-spacing', fSpacing);\r\n                    all[i].style.wordSpacing = factor + 'px';\r\n                }\r\n\r\n                // letterSpacing\r\n                //let fSpacing2 = getComputedStyle(all[i]).letterSpacing;\r\n                let fSpacing2 = all[i].style.letterSpacing;\r\n                if (fSpacing2 && (fSpacing2.indexOf('px') > -1)) {\r\n                    if (!all[i].getAttribute('data-init-letter-spacing'))\r\n                        all[i].setAttribute('data-init-letter-spacing', fSpacing2);\r\n                    fSpacing2 = (fSpacing2.replace('px', '') * 1) + factor;\r\n                    all[i].style.letterSpacing = fSpacing2 + 'px';\r\n                } else {\r\n                    all[i].setAttribute('data-init-letter-spacing', fSpacing2);\r\n                    all[i].style.letterSpacing = factor + 'px';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // wordSpacing\r\n            let fSpacing = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getFormattedDim(getComputedStyle(this.body).wordSpacing);\r\n            if (typeof this.initialValues.body.wordSpacing === 'undefined')\r\n                this.initialValues.body.wordSpacing = '';\r\n            if (fSpacing && fSpacing.sufix && !isNaN(fSpacing.size * 1)) {\r\n                this.body.style.wordSpacing = ((fSpacing.size * 1) + factor) + fSpacing.sufix;\r\n            }\r\n            // letterSpacing\r\n            let fSpacing2 = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getFormattedDim(getComputedStyle(this.body).letterSpacing);\r\n            if (typeof this.initialValues.body.letterSpacing === 'undefined')\r\n                this.initialValues.body.letterSpacing = '';\r\n            if (fSpacing2 && fSpacing2.sufix && !isNaN(fSpacing2.size * 1)) {\r\n                this.body.style.letterSpacing = ((fSpacing2.size * 1) + factor) + fSpacing2.sufix;\r\n            }\r\n        }\r\n    }\r\n\r\n    speechToText() {\r\n        if ('webkitSpeechRecognition' in window) {\r\n            this.recognition = new webkitSpeechRecognition();\r\n            this.recognition.continuous = true;\r\n            this.recognition.interimResults = true;\r\n            this.recognition.onstart = () => {\r\n                // TODO red color on mic icon\r\n                //console.log('listening . . .');\r\n                // if (this.speechToTextTarget)\r\n                //     this.speechToTextTarget.parentElement.classList.add('_access-listening');\r\n                this.body.classList.add('_access-listening');\r\n            };\r\n\r\n            this.recognition.onend = () => {\r\n                this.body.classList.remove('_access-listening');\r\n                //console.log('onend listening');\r\n            };\r\n\r\n            this.recognition.onresult = (event) => {\r\n                ///console.log('onresult listening');\r\n                let finalTranscript = '';\r\n                if (typeof (event.results) == 'undefined') {\r\n                    return;\r\n                }\r\n                for (let i = event.resultIndex; i < event.results.length; ++i) {\r\n                    if (event.results[i].isFinal) {\r\n                        finalTranscript += event.results[i][0].transcript;\r\n                    }\r\n                    // else {\r\n                    //     interim_transcript += event.results[i][0].transcript;\r\n                    // }\r\n                }\r\n                if (finalTranscript && this.speechToTextTarget) {\r\n                    this.speechToTextTarget.parentElement.classList.remove('_access-listening');\r\n                    if (this.speechToTextTarget.tagName.toLowerCase() == 'input' || this.speechToTextTarget.tagName.toLowerCase() == 'textarea') {\r\n                        this.speechToTextTarget.value = finalTranscript;\r\n                    }\r\n                    else if (this.speechToTextTarget.getAttribute('contenteditable') != null) {\r\n                        this.speechToTextTarget.innerText = finalTranscript;\r\n                    }\r\n                }\r\n            };\r\n            this.recognition.lang = this.options.speechToTextLang;\r\n            this.recognition.start();\r\n        }\r\n    }\r\n\r\n    textToSpeech(text) {\r\n        if (!window.SpeechSynthesisUtterance || !window.speechSynthesis) return;\r\n        let msg = new window.SpeechSynthesisUtterance(text);\r\n        msg.lang = this.options.textToSpeechLang;\r\n        msg.onend = (e) => {\r\n            this.isReading = false;\r\n        };\r\n        let voices = window.speechSynthesis.getVoices();\r\n        let isLngSupported = false;\r\n        for (let i = 0; i < voices.length; i++) {\r\n            if (voices[i].lang === msg.lang) {\r\n                msg.voice = voices[i];\r\n                isLngSupported = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!isLngSupported) {\r\n            _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].warn('text to speech language not supported!');\r\n            // let msg = 'text to speech language not supported!';\r\n            // if (console.warn)\r\n            //     console.warn(msg);\r\n            // else\r\n            //     console.log(msg);\r\n        }\r\n        window.speechSynthesis.speak(msg);\r\n        this.isReading = true;\r\n    }\r\n\r\n    listen() {\r\n        // let className = '_access-speech-to-text';\r\n        // window.event.preventDefault();\r\n        // window.event.stopPropagation();\r\n        if (typeof self.recognition === 'object' && typeof self.recognition.stop === 'function')\r\n            self.recognition.stop();\r\n\r\n        self.speechToTextTarget = window.event.target;\r\n        self.speechToText(window.event.target.innerText);\r\n    }\r\n\r\n    read(e) {\r\n        try {\r\n            e = window.event || e || arguments[0];\r\n            if (e && e.preventDefault) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n        catch (ex) { }\r\n        if (self.isReading) {\r\n            window.speechSynthesis.cancel();\r\n            self.isReading = false;\r\n        }\r\n        else\r\n            self.textToSpeech(window.event.target.innerText);\r\n    }\r\n    runHotkey(name) {\r\n        switch (name) {\r\n            case 'toggleMenu':\r\n                this.toggleMenu();\r\n                break;\r\n            default:\r\n                if (this.menuInterface.hasOwnProperty(name)) {\r\n                    if (this.options.modules[name]) {\r\n                        this.menuInterface[name](false);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    toggleMenu() {\r\n        if (this.menu.classList.contains('close')) {\r\n            if (this.options.animations && this.options.animations.buttons)\r\n                setTimeout(() => { this.menu.querySelector('ul').classList.toggle('before-collapse'); }, 500);\r\n            setTimeout(() => { this.menu.classList.toggle('close'); }, 10);\r\n        }\r\n        else {\r\n            if (this.options.animations && this.options.animations.buttons) {\r\n                setTimeout(() => { this.menu.classList.toggle('close'); }, 500);\r\n                setTimeout(() => { this.menu.querySelector('ul').classList.toggle('before-collapse'); }, 10);\r\n            }\r\n            else {\r\n                this.menu.classList.toggle('close');\r\n            }\r\n        }\r\n    }\r\n\r\n    invoke(action) {\r\n        if (typeof this.menuInterface[action] === 'function')\r\n            this.menuInterface[action]();\r\n    }\r\n\r\n    build() {\r\n        this.initialValues = {\r\n            underlineLinks: false,\r\n            textToSpeech: false,\r\n            bigCursor: false,\r\n            readingGuide: false,\r\n            body: {},\r\n            html: {}\r\n        };\r\n        this.body = document.body || document.getElementsByTagName('body')[0];\r\n        this.html = document.documentElement || document.getElementsByTagName('html')[0];\r\n        if (this.options.textEmlMode)\r\n            this.initFontSize();\r\n        this.injectCss();\r\n        this.icon = this.injectIcon();\r\n        this.menu = this.injectMenu();\r\n        this.addListeners();\r\n        this.disableUnsupportedModules();\r\n        if (this.options.hotkeys.enabled) {\r\n            document.onkeydown = function (e) {\r\n                let act = Object.entries(self.options.hotkeys.keys).find(function (val) {\r\n                    let pass = true;\r\n                    for (var i = 0; i < val[1].length; i++) {\r\n                        if (Number.isInteger((val[1])[i])) {\r\n                            if (e.keyCode != (val[1])[i]) {\r\n                                pass = false;\r\n                            }\r\n                        } else {\r\n                            if (e[(val[1])[i]] == undefined || e[(val[1])[i]] == false) {\r\n                                pass = false;\r\n                            }\r\n                        }\r\n                    }\r\n                    return pass;\r\n                });\r\n                if (act != undefined) {\r\n                    self.runHotkey(act[0]);\r\n                }\r\n            }\r\n        }\r\n        //setMinHeight();\r\n\r\n        this.icon.addEventListener('click', () => {\r\n            this.toggleMenu();\r\n        }, false);\r\n        setTimeout(() => {\r\n            this.icon.style.opacity = '1';\r\n        }, 10);\r\n\r\n        // if (window.SpeechSynthesisUtterance || window.speechSynthesis) {\r\n        //     let voices = window.speechSynthesis.getVoices();\r\n        // }\r\n        this.updateReadGuide = function (e) {\r\n            let newPos = 0;\r\n            if (e.type == 'touchmove') {\r\n                newPos = e.changedTouches[0].clientY\r\n            } else {\r\n                newPos = e.y;\r\n            }\r\n            document.getElementById('access_read_guide_bar').style.top = (newPos - (parseInt(self.options.guide.height.replace('px')) + 5)) + 'px';\r\n        }\r\n        this.menuInterface = {\r\n            increaseText: () => {\r\n                this.alterTextSize(true);\r\n            },\r\n            decreaseText: () => {\r\n                this.alterTextSize(false);\r\n            },\r\n            increaseTextSpacing: () => {\r\n                this.alterTextSpace(true);\r\n            },\r\n            decreaseTextSpacing: () => {\r\n                this.alterTextSpace(false);\r\n            },\r\n            invertColors: (destroy) => {\r\n                if (typeof this.initialValues.html.backgroundColor === 'undefined')\r\n                    this.initialValues.html.backgroundColor = getComputedStyle(this.html).backgroundColor;\r\n                if (typeof this.initialValues.html.color === 'undefined')\r\n                    this.initialValues.html.color = getComputedStyle(this.html).color;\r\n\r\n                if (destroy) {\r\n                    this.resetIfDefined(this.initialValues.html.backgroundColor, this.html.style, 'backgroundColor');\r\n                    this.resetIfDefined(this.initialValues.html.color, this.html.style, 'color');\r\n                    document.querySelector('._access-menu [data-access-action=\"invertColors\"]').classList.remove('active');\r\n                    this.initialValues.invertColors = false;\r\n                    this.sessionState.invertColors = this.initialValues.invertColors;\r\n                    this.onChange(true);\r\n                    this.html.style.filter = '';\r\n                    return;\r\n                }\r\n\r\n\r\n                document.querySelector('._access-menu [data-access-action=\"invertColors\"]').classList.toggle('active');\r\n                this.initialValues.invertColors = !this.initialValues.invertColors;\r\n                this.sessionState.invertColors = this.initialValues.invertColors;\r\n                this.onChange(true);\r\n                if (this.initialValues.invertColors) {\r\n                    if (this.initialValues.grayHues)\r\n                        this.menuInterface.grayHues(true);\r\n                    this.html.style.filter = 'invert(1)';\r\n                }\r\n                else {\r\n                    this.html.style.filter = '';\r\n                }\r\n            },\r\n            grayHues: (destroy) => {\r\n                if (typeof this.initialValues.html.filter === 'undefined')\r\n                    this.initialValues.html.filter = getComputedStyle(this.html).filter;\r\n                if (typeof this.initialValues.html.webkitFilter === 'undefined')\r\n                    this.initialValues.html.webkitFilter = getComputedStyle(this.html).webkitFilter;\r\n                if (typeof this.initialValues.html.mozFilter === 'undefined')\r\n                    this.initialValues.html.mozFilter = getComputedStyle(this.html).mozFilter;\r\n                if (typeof this.initialValues.html.msFilter === 'undefined')\r\n                    this.initialValues.html.msFilter = getComputedStyle(this.html).msFilter;\r\n\r\n                if (destroy) {\r\n                    document.querySelector('._access-menu [data-access-action=\"grayHues\"]').classList.remove('active');\r\n                    this.initialValues.grayHues = false;\r\n                    this.sessionState.grayHues = this.initialValues.grayHues;\r\n                    this.onChange(true);\r\n                    this.resetIfDefined(this.initialValues.html.filter, this.html.style, 'filter');\r\n                    this.resetIfDefined(this.initialValues.html.webkitFilter, this.html.style, 'webkitFilter');\r\n                    this.resetIfDefined(this.initialValues.html.mozFilter, this.html.style, 'mozFilter');\r\n                    this.resetIfDefined(this.initialValues.html.msFilter, this.html.style, 'msFilter');\r\n                    return;\r\n                }\r\n\r\n                document.querySelector('._access-menu [data-access-action=\"grayHues\"]').classList.toggle('active');\r\n                this.initialValues.grayHues = !this.initialValues.grayHues;\r\n                this.sessionState.grayHues = this.initialValues.grayHues;\r\n                this.onChange(true);\r\n                let val;\r\n                if (this.initialValues.grayHues) {\r\n                    val = 'grayscale(1)'\r\n                    if (this.initialValues.invertColors)\r\n                        this.menuInterface.invertColors(true)\r\n                } else {\r\n                    val = ''\r\n                }\r\n                this.html.style.webkitFilter = val;\r\n                this.html.style.mozFilter = val;\r\n                this.html.style.msFilter = val;\r\n                this.html.style.filter = val;\r\n            },\r\n            underlineLinks: (destroy) => {\r\n                let className = '_access-underline';\r\n                let remove = () => {\r\n                    let style = document.querySelector('.' + className);\r\n                    if (style) {\r\n                        style.parentElement.removeChild(style);\r\n                        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.remove('.' + className);\r\n                    }\r\n                };\r\n\r\n                if (destroy) {\r\n                    this.initialValues.underlineLinks = false;\r\n                    this.sessionState.underlineLinks = this.initialValues.underlineLinks;\r\n                    this.onChange(true);\r\n                    document.querySelector('._access-menu [data-access-action=\"underlineLinks\"]').classList.remove('active');\r\n                    return remove();\r\n                }\r\n\r\n                document.querySelector('._access-menu [data-access-action=\"underlineLinks\"]').classList.toggle('active')\r\n                this.initialValues.underlineLinks = !this.initialValues.underlineLinks;\r\n                this.sessionState.underlineLinks = this.initialValues.underlineLinks;\r\n                this.onChange(true);\r\n                if (this.initialValues.underlineLinks) {\r\n                    let css = `\r\n                    body a {\r\n                        text-decoration: underline !important;\r\n                    }\r\n                `;\r\n                    _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].injectStyle(css, { className: className });\r\n                    _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.set('.' + className, true);\r\n                }\r\n                else {\r\n                    remove();\r\n                }\r\n            },\r\n            bigCursor: (destroy) => {\r\n                if (destroy) {\r\n                    this.html.classList.remove('_access_cursor');\r\n                    document.querySelector('._access-menu [data-access-action=\"bigCursor\"]').classList.remove('active');\r\n                    this.initialValues.bigCursor = false;\r\n                    this.sessionState.bigCursor = false;\r\n                    this.onChange(true);\r\n                    return;\r\n                }\r\n\r\n\r\n                document.querySelector('._access-menu [data-access-action=\"bigCursor\"]').classList.toggle('active');\r\n                this.initialValues.bigCursor = !this.initialValues.bigCursor;\r\n                this.sessionState.bigCursor = this.initialValues.bigCursor;\r\n                this.onChange(true);\r\n                this.html.classList.toggle('_access_cursor');\r\n            },\r\n            readingGuide: (destroy) => {\r\n                if (destroy) {\r\n                    if (document.getElementById('access_read_guide_bar') != undefined) {\r\n                        document.getElementById('access_read_guide_bar').remove();\r\n                    }\r\n                    document.querySelector('._access-menu [data-access-action=\"readingGuide\"]').classList.remove('active');\r\n                    this.initialValues.readingGuide = false;\r\n                    this.sessionState.readingGuide = this.initialValues.readingGuide;\r\n                    this.onChange(true);\r\n                    document.body.removeEventListener('touchmove', this.updateReadGuide, false);\r\n                    document.body.removeEventListener('mousemove', this.updateReadGuide, false);\r\n                    return;\r\n                }\r\n                document.querySelector('._access-menu [data-access-action=\"readingGuide\"]').classList.toggle('active');\r\n                this.initialValues.readingGuide = !this.initialValues.readingGuide;\r\n                this.sessionState.readingGuide = this.initialValues.readingGuide;\r\n                this.onChange(true);\r\n                if (this.initialValues.readingGuide) {\r\n                    let read = document.createElement(\"div\");\r\n                    read.id = 'access_read_guide_bar';\r\n                    read.classList.add('access_read_guide_bar');\r\n                    document.body.append(read);\r\n                    document.body.addEventListener('touchmove', this.updateReadGuide, false);\r\n                    document.body.addEventListener('mousemove', this.updateReadGuide, false);\r\n                } else {\r\n                    if (document.getElementById('access_read_guide_bar') != undefined) {\r\n                        document.getElementById('access_read_guide_bar').remove();\r\n                    }\r\n                    document.body.removeEventListener('touchmove', this.updateReadGuide, false);\r\n                    document.body.removeEventListener('mousemove', this.updateReadGuide, false);\r\n                }\r\n            },\r\n            textToSpeech: (destroy) => {\r\n                // this.sessionState.textToSpeech = typeof destroy === 'undefined' ? true : false;\r\n                this.onChange(false);\r\n                let className = '_access-text-to-speech';\r\n                let remove = () => {\r\n                    let style = document.querySelector('.' + className);\r\n                    if (style) {\r\n                        style.parentElement.removeChild(style);\r\n                        document.removeEventListener('click', this.read, false);\r\n                        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.remove('.' + className);\r\n                    }\r\n                };\r\n\r\n                if (destroy) {\r\n                    document.querySelector('._access-menu [data-access-action=\"textToSpeech\"]').classList.remove('active');\r\n                    this.initialValues.textToSpeech = false;\r\n                    return remove();\r\n                }\r\n\r\n                document.querySelector('._access-menu [data-access-action=\"textToSpeech\"]').classList.toggle('active');\r\n\r\n                this.initialValues.textToSpeech = !this.initialValues.textToSpeech;\r\n                if (this.initialValues.textToSpeech) {\r\n                    let css = `\r\n                        *:hover {\r\n                            box-shadow: 2px 2px 2px rgba(180,180,180,0.7);\r\n                        }\r\n                    `;\r\n                    _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].injectStyle(css, { className: className });\r\n                    _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.set('.' + className, true);\r\n                    document.addEventListener('click', this.read, false);\r\n                }\r\n                else {\r\n                    remove();\r\n                }\r\n            },\r\n            speechToText: (destroy) => {\r\n                // this.sessionState.speechToText = typeof destroy === 'undefined' ? true : false;\r\n                this.onChange(false);\r\n                let className = '_access-speech-to-text';\r\n                let remove = () => {\r\n                    if (this.recognition) {\r\n                        this.recognition.stop();\r\n                        this.body.classList.remove('_access-listening');\r\n                    }\r\n                    let style = document.querySelector('.' + className);\r\n                    if (style) {\r\n                        style.parentElement.removeChild(style);\r\n                        _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.remove('.' + className);\r\n                    }\r\n                    let inputs = document.querySelectorAll('._access-mic');\r\n                    for (let i = 0; i < inputs.length; i++) {\r\n                        inputs[i].removeEventListener('focus', this.listen, false);\r\n                        inputs[i].classList.remove('_access-mic');\r\n                    }\r\n                };\r\n\r\n                if (destroy) {\r\n                    document.querySelector('._access-menu [data-access-action=\"speechToText\"]').classList.remove('active');\r\n                    this.initialValues.speechToText = false;\r\n                    return remove();\r\n                }\r\n\r\n                document.querySelector('._access-menu [data-access-action=\"speechToText\"]').classList.toggle('active');\r\n\r\n                this.initialValues.speechToText = !this.initialValues.speechToText;\r\n                if (this.initialValues.speechToText) {\r\n                    let css = `\r\n                        body:after {\r\n                            content: ${!this.options.icon.useEmojis ? '\"mic\"' : '\"🎤\"'};\r\n                            ${!this.options.icon.useEmojis ? \"font-family: '\" + this.options.icon.fontFamily + \"';\" : ''}\r\n                            position: fixed;\r\n                            z-index: 1100;\r\n                            top: 1vw;\r\n                            right: 1vw;\r\n                            width: 36px;\r\n                            height: 36px;\r\n                            font-size: 30px;\r\n                            line-height: 36px;\r\n                            border-radius: 50%;\r\n                            background: rgba(255,255,255,0.7);\r\n                            display: flex;\r\n                            justify-content: center;\r\n                            aling-items: center;\r\n                        }\r\n\r\n                        body._access-listening:after {\r\n                            animation: _access-listening-animation 2s infinite ease;\r\n                        }\r\n\r\n                        @keyframes _access-listening-animation {\r\n                            0%  {background-color: transparent;}\r\n                            50%  {background-color: #EF9A9A;}\r\n                        }\r\n                    `;\r\n                    _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].injectStyle(css, { className: className });\r\n                    _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.set('.' + className, true);\r\n                    let inputs = document.querySelectorAll('input[type=\"text\"], input[type=\"search\"], textarea, [contenteditable]');\r\n                    for (let i = 0; i < inputs.length; i++) {\r\n                        inputs[i].addEventListener('blur', () => {\r\n                            if (typeof this.recognition === 'object' && typeof this.recognition.stop === 'function')\r\n                                this.recognition.stop();\r\n                        }, false);\r\n                        inputs[i].addEventListener('focus', this.listen, false);\r\n                        inputs[i].parentElement.classList.add('_access-mic');\r\n                    }\r\n                }\r\n                else {\r\n                    remove();\r\n                }\r\n            }\r\n        }\r\n        if (this.options.session.persistent)\r\n            this.setSessionFromCache();\r\n    }\r\n\r\n    resetIfDefined(src, dest, prop) {\r\n        if (typeof src !== 'undefined')\r\n            dest[prop] = src;\r\n    }\r\n\r\n    onChange(updateSession) {\r\n        if (updateSession && this.options.session.persistent)\r\n            this.saveSession();\r\n    }\r\n\r\n    saveSession() {\r\n        _storage__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set('_accessState', this.sessionState);\r\n    }\r\n\r\n    setSessionFromCache() {\r\n        let sessionState = _storage__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('_accessState');\r\n        if (sessionState) {\r\n            if (sessionState.textSize) {\r\n                let textSize = sessionState.textSize;\r\n                if (textSize > 0) {\r\n                    while (textSize--) {\r\n                        this.alterTextSize(true);\r\n                    }\r\n                }\r\n                else {\r\n                    while (textSize++) {\r\n                        this.alterTextSize(false);\r\n                    }\r\n                }\r\n            }\r\n            if (sessionState.textSpace) {\r\n                let textSpace = sessionState.textSpace;\r\n                if (textSpace > 0) {\r\n                    while (textSpace--) {\r\n                        this.alterTextSpace(true);\r\n                    }\r\n                }\r\n                else {\r\n                    while (textSpace++) {\r\n                        this.alterTextSpace(false);\r\n                    }\r\n                }\r\n            }\r\n            if (sessionState.invertColors)\r\n                this.menuInterface.invertColors();\r\n            if (sessionState.grayHues)\r\n                this.menuInterface.grayHues();\r\n            if (sessionState.underlineLinks)\r\n                this.menuInterface.underlineLinks();\r\n            if (sessionState.bigCursor)\r\n                this.menuInterface.bigCursor();\r\n            if (sessionState.readingGuide)\r\n                this.menuInterface.readingGuide();\r\n            this.sessionState = sessionState;\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        let allSelectors = _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deployedObjects.getAll();\r\n        for (let i of allSelectors) {\r\n            let elem = document.querySelector(i);\r\n            if (elem) {\r\n                elem.parentElement.removeChild(elem);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nAccessibility.init = (opt) => {\r\n    _common__WEBPACK_IMPORTED_MODULE_0__[\"default\"].warn('\"Accessibility.init()\" is deprecated! Please use \"new Accessibility()\" instead');\r\n    new Accessibility(opt);\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Accessibility);\r\n\n\n//# sourceURL=webpack://./dist/./src/main.js?");

/***/ }),

/***/ "./src/storage.js":
/*!************************!*\
  !*** ./src/storage.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\n\r\nlet storage = {\r\n    has(key) {\r\n        return window.localStorage.hasOwnProperty(key);\r\n    },\r\n    set(key, value) {\r\n        window.localStorage.setItem(key, JSON.stringify(value));\r\n    },\r\n    get(key) {\r\n        let item = window.localStorage.getItem(key);\r\n        try {\r\n            return JSON.parse(item);\r\n        }\r\n        catch (e) {\r\n            return item;\r\n        }\r\n    },\r\n    clear() {\r\n        window.localStorage.clear();\r\n    },\r\n    remove(key) {\r\n        window.localStorage.removeItem(key);\r\n    },\r\n    isSupported() {\r\n        let test = '_test';\r\n        try {\r\n            localStorage.setItem(test, test);\r\n            localStorage.removeItem(test);\r\n            return true;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (storage);\n\n//# sourceURL=webpack://./dist/./src/storage.js?");

/***/ })

/******/ });
});