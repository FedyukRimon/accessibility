!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["./dist"]=t():e["./dist"]=t()}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);let n=document.body||document.getElementsByTagName("body")[0],s=new Map,o={jsonToHtml:(e,t)=>{let i=document.createElement(e.type);for(let n in e.attrs)0===n.indexOf("#")&&t?i.setAttribute(e.attrs[n],t[n.substring(1)]):i.setAttribute(n,e.attrs[n]);for(let n in e.children){let s=null;s="#text"==e.children[n].type?0==e.children[n].text.indexOf("#")?document.createTextNode(t[e.children[n].text.substring(1)]):document.createTextNode(e.children[n].text):o.jsonToHtml(e.children[n],t),(s&&s.tagName&&"undefined"!==s.tagName.toLowerCase()||3==s.nodeType)&&i.appendChild(s)}return i},injectStyle:(e,t={})=>{let i=document.createElement("style");return i.appendChild(document.createTextNode(e)),t.className&&i.classList.add(t.className),n.appendChild(i),i},getFormattedDim:e=>{if(!e)return null;let t=function(e,t){return{size:e.substring(0,e.indexOf(t)),sufix:t}};return(e=String(e)).indexOf("%")>-1?t(e,"%"):e.indexOf("px")>-1?t(e,"px"):e.indexOf("em")>-1?t(e,"em"):e.indexOf("rem")>-1?t(e,"rem"):e.indexOf("pt")>-1?t(e,"pt"):"auto"==e?t(e,""):void 0},extend:(e,t)=>{for(let i in e)"object"==typeof e[i]?t&&t[i]&&(e[i]=o.extend(e[i],t[i])):"object"==typeof t&&void 0!==t[i]&&(e[i]=t[i]);return e},injectIconsCss(){let e=document.getElementsByTagName("head")[0],t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href="https://fonts.googleapis.com/icon?family=Material+Icons",t.className="_access-material-icons",o.deployedObjects.set("."+t.className,!0),e.appendChild(t)},warn(e){console.warn?console.warn("Accessibility: "+e):console.log("Accessibility: "+e)},deployedObjects:{get:e=>s.get(e),contains:e=>s.has(e),set:(e,t)=>{s.set(e,t)},remove:e=>{s.delete(e)},getAll:()=>s}};var c=o;c.injectIconsCss();let a={icon:{position:{bottom:{size:50,units:"px"},right:{size:10,units:"px"},type:"fixed"},dimensions:{width:{size:50,units:"px"},height:{size:50,units:"px"}},zIndex:"9999",backgroundColor:"#4054b2",color:"#fff",img:"accessible",circular:!1},guide:{cBorder:"#20ff69",cBackground:"#000000",height:"12px"},menu:{dimensions:{width:{size:25,units:"vw"},height:{size:"auto",units:""}},fontFamily:"RobotoDraft, Roboto, sans-serif, Arial"},labels:{refreshTitle:"Refresh",closeTitle:"Close",menuTitle:"Accessibility Options",increaseText:"increase text size",decreaseText:"decrease text size",increaseTextSpacing:"increase text spacing",decreaseTextSpacing:"decrease text spacing",invertColors:"invert colors",grayHues:"gray hues",bigCursor:"big cursor",readingGuide:"reading guide",underlineLinks:"underline links",textToSpeech:"text to speech",speechToText:"speech to text"},textToSpeechLang:"en-US",speechToTextLang:"en-US",textPixelMode:!1,animations:{buttons:!0},modules:{increaseText:!0,decreaseText:!0,increaseTextSpacing:!0,decreaseTextSpacing:!0,invertColors:!0,grayHues:!0,bigCursor:!0,readingGuide:!0,underlineLinks:!0,textToSpeech:!0,speechToText:!0}},l=null;class r{constructor(e={}){l=this,e=this.deleteOppositesIfDefined(e),this.options=c.extend(a,e),this.disabledUnsupportedFeatures(),this.build()}deleteOppositesIfDefined(e){return e.icon&&e.icon.position&&(e.icon.position.left&&(delete a.icon.position.right,a.icon.position.left=e.icon.position.left),e.icon.position.top&&(delete a.icon.position.bottom,a.icon.position.top=e.icon.position.top)),e}disabledUnsupportedFeatures(){"webkitSpeechRecognition"in window&&"https:"==location.protocol||(c.warn("speech to text isn't supported in this brouser or in http protocol (https required)"),this.options.modules.speechToText=!1),window.SpeechSynthesisUtterance&&window.speechSynthesis||(c.warn("text to speech isn't supported in this brouser"),this.options.modules.textToSpeech=!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(c.warn("grayHues isn't supported in firefox"),this.options.modules.grayHues=!1)}injectCss(){let e="\n        ._access-icon {\n            position: "+this.options.icon.position.type+";\n            background-repeat: no-repeat;\n            background-size: contain;\n            cursor: pointer;\n            opacity: 0;\n            transition-duration: .5s;\n            -moz-user-select: none;\n            -webkit-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            box-shadow: 1px 1px 5px rgba(0,0,0,.5);\n        }\n        ._access-icon:hover {\n            box-shadow: 1px 1px 10px rgba(0,0,0,.9);\n        }\n        .circular._access-icon:hover {\n            border: 5px solid white;\n            border-style: double;\n            font-size: 35px!important;\n            vertical-align: middle;\n            padding-top: 2px;\n            text-align: center;\n        }\n        .circular._access-icon {\n            border-radius: 50%;\n            border: .5px solid white;\n        }\n        .access_read_guide_bar{\n            box-sizing: border-box;\n            background: "+this.options.guide.cBackground+";\n            width: 100%!important;\n            min-width: 100%!important;\n            position: fixed!important;\n            height: "+this.options.guide.height+"!important;\n            border: solid 3px "+this.options.guide.cBorder+";\n            border-radius: 5px;\n            top: 15px;\n            z-index: 2147483647;\n        }\n        .access-high-contrast *{\n            background-color: #000 !important;\n            background-image: none !important;\n            border-color: #fff !important;\n            -webkit-box-shadow: none !important;\n            box-shadow: none !important;\n            color: #fff !important;\n            text-indent: 0 !important;\n            text-shadow: none !important;\n        }\n        ._access-menu {\n            -moz-user-select: none;\n            -webkit-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            position: fixed;\n            width: "+this.options.menu.dimensions.width.size+this.options.menu.dimensions.width.units+";\n            height: "+this.options.menu.dimensions.height.size+this.options.menu.dimensions.height.units+";\n            transition-duration: .5s;\n            z-index: "+this.options.icon.zIndex+"1;\n            opacity: 1;\n            background-color: #fff;\n            color: #000;\n            border-radius: 3px;\n            border: solid 1px #f1f0f1;\n            font-family: "+this.options.menu.fontFamily+";\n            min-width: 300px;\n            box-shadow: 0px 0px 1px #aaa;\n            max-height: 100vh;\n            "+("rtl"==getComputedStyle(this.body).direction?"text-indent: -5px":"")+"\n        }\n        ._access-menu.close {\n            z-index: -1;\n            width: 0;\n            opacity: 0;\n            background-color: transparent;\n        }\n        ._access-menu.bottom {\n            bottom: 0;\n        }\n        ._access-menu.top {\n            top: 0;\n        }\n        ._access-menu.left {\n            left: 0;\n        }\n        ._access-menu.close.left {\n            left: -"+this.options.menu.dimensions.width.size+this.options.menu.dimensions.width.units+";\n        }\n        ._access-menu.right {\n            right: 0;\n        }\n        ._access-menu.close.right {\n            right: -"+this.options.menu.dimensions.width.size+this.options.menu.dimensions.width.units+";\n        }\n        ._access-menu ._text-center {\n            text-align: center;\n        }\n        ._access-menu h3 {\n            font-size: 24px !important;\n            margin-top: 20px;\n            margin-bottom: 20px;\n            padding: 0;\n            color: rgba(0,0,0,.87);\n            letter-spacing: initial!important;\n            word-spacing: initial!important;\n        }\n        ._access-menu ._menu-close-btn {\n            left: 5px;\n            color: #d63c3c;\n        }\n        ._access-menu ._menu-reset-btn {\n            right: 5px;\n            color: #4054b2;\n        }\n        ._access-menu ._menu-btn {\n            position: absolute;\n            top: 5px;\n            cursor: pointer;\n            font-size: 24px !important;\n            font-weight: bold;\n        }\n        ._access-menu ul {\n            padding: 0;\n            position: relative;\n            font-size: 18px !important;\n            margin: 0;\n        }\n        html._access_cursor * {\n            cursor: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyOS4xODhweCIgaGVpZ2h0PSI0My42MjVweCIgdmlld0JveD0iMCAwIDI5LjE4OCA0My42MjUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI5LjE4OCA0My42MjUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iI0Q5REFEOSIgc3Ryb2tlLXdpZHRoPSIxLjE0MDYiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRzPSIyLjgsNC41NDkgMjYuODQ3LDE5LjkwMiAxNi45NjQsMjIuNzAxIDI0LjIzOSwzNy43NDkgMTguMjc4LDQyLjAxNyA5Ljc0MSwzMC43MjQgMS4xMzgsMzUuODA5ICIvPjxnPjxnPjxnPjxwYXRoIGZpbGw9IiMyMTI2MjciIGQ9Ik0yOS4xNzUsMjEuMTU1YzAuMDcxLTAuNjEzLTAuMTY1LTEuMjUzLTAuNjM1LTEuNTczTDIuMTY1LDAuMjU4Yy0wLjQyNC0wLjMyLTAuOTg4LTAuMzQ2LTEuNDM1LTAuMDUzQzAuMjgyLDAuNDk3LDAsMS4wMywwLDEuNjE3djM0LjE3MWMwLDAuNjEzLDAuMzA2LDEuMTQ2LDAuNzc2LDEuNDM5YzAuNDcxLDAuMjY3LDEuMDU5LDAuMjEzLDEuNDgyLTAuMTZsNy40ODItNi4zNDRsNi44NDcsMTIuMTU1YzAuMjU5LDAuNDgsMC43MjksMC43NDYsMS4yLDAuNzQ2YzAuMjM1LDAsMC40OTQtMC4wOCwwLjcwNi0wLjIxM2w2Ljk4OC00LjU4NWMwLjMyOS0wLjIxMywwLjU2NS0wLjU4NiwwLjY1OS0xLjAxM2MwLjA5NC0wLjQyNiwwLjAyNC0wLjg4LTAuMTg4LTEuMjI2bC02LjM3Ni0xMS4zODJsOC42MTEtMi43NDVDMjguNzA1LDIyLjI3NCwyOS4xMDUsMjEuNzY4LDI5LjE3NSwyMS4xNTV6IE0xNi45NjQsMjIuNzAxYy0wLjQyNCwwLjEzMy0wLjc3NiwwLjUwNi0wLjk0MSwwLjk2Yy0wLjE2NSwwLjQ4LTAuMTE4LDEuMDEzLDAuMTE4LDEuNDM5bDYuNTg4LDExLjc4MWwtNC41NDEsMi45ODVsLTYuODk0LTEyLjMxNWMtMC4yMTItMC4zNzMtMC41NDEtMC42NC0wLjk0MS0wLjcyYy0wLjA5NC0wLjAyNy0wLjE2NS0wLjAyNy0wLjI1OS0wLjAyN2MtMC4zMDYsMC0wLjU4OCwwLjEwNy0wLjg0NywwLjMyTDIuOCwzMi41OVY0LjU0OWwyMS41OTksMTUuODA2TDE2Ljk2NCwyMi43MDF6Ii8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==),auto!important;\n        }\n        ._access-menu ul li {\n            list-style-type: none;\n            cursor: pointer;\n            -ms-user-select: none;\n            -moz-user-select: none;\n            -webkit-user-select: none;\n            user-select: none;\n            border: solid 1px #f1f0f1;\n            padding: 10px 0 10px 30px;\n            margin: 5px;\n            border-radius: 4px;\n            transition-duration: .5s;\n            transition-timing-function: ease-in-out;\n            font-size: 18px !important;\n            line-height: 18px !important;\n            text-indent: 5px;\n            background: #f9f9f9;\n            color: rgba(0,0,0,.6);\n            letter-spacing: initial!important;\n            word-spacing: initial!important;\n        }\n        ._access-menu ul.before-collapse li {\n            opacity: 0.05;\n        }\n        ._access-menu ul li.active, ._access-menu ul li.active:hover {\n            color: #fff;\n            background-color: #000;\n        }\n        ._access-menu ul li:hover {\n            color: rgba(0,0,0,.8);\n            background-color: #eaeaea;\n        }\n        ._access-menu ul li.not-supported {\n            display: none;\n        }\n        ._access-menu ul li:before {\n            content: ' ';\n            font-family: 'Material Icons';\n            text-rendering: optimizeLegibility;\n            font-feature-settings: \"liga\" 1;\n            font-style: normal;\n            text-transform: none;\n            line-height: 1;\n            font-size: 24px !important;\n            width: 30px;\n            height: 30px;\n            display: inline-block;\n            overflow: hidden;\n            -webkit-font-smoothing: antialiased;\n            left: 8px;\n            position: absolute;\n            color: rgba(0,0,0,.6);\n            direction: ltr;\n        }\n        ._access-menu ul li svg path {\n            fill: rgba(0,0,0,.6);\n        }\n        ._access-menu ul li:hover svg path {\n            fill: rgba(0,0,0,.8);\n        }\n        ._access-menu ul li.active svg path {\n            fill: #fff;\n        }\n        ._access-menu ul li:hover:before {\n            color: rgba(0,0,0,.8);\n        }\n        ._access-menu ul li.active:before {\n            color: #fff;\n        }\n        ._access-menu ul li[data-access-action=\"increaseText\"]:before {\n            content: 'zoom_in';\n        }\n        ._access-menu ul li[data-access-action=\"decreaseText\"]:before {\n            content: 'zoom_out';\n        }\n        ._access-menu ul li[data-access-action=\"increaseTextSpacing\"]:before {\n            content: 'unfold_more';\n            transform: rotate(90deg) translate(-7px, 2px);\n        }\n        ._access-menu ul li[data-access-action=\"decreaseTextSpacing\"]:before {\n            content: 'unfold_less';\n            transform: rotate(90deg) translate(-7px, 2px);\n        }\n        ._access-menu ul li[data-access-action=\"invertColors\"]:before {\n            content: 'invert_colors';\n        }\n        ._access-menu ul li[data-access-action=\"grayHues\"]:before {\n            content: 'format_color_reset';\n        }\n        ._access-menu ul li[data-access-action=\"underlineLinks\"]:before {\n            content: 'format_underlined';\n        }\n        ._access-menu ul li[data-access-action=\"bigCursor\"]:before {\n            /*content: 'touch_app';*/\n        }\n        ._access-menu ul li[data-access-action=\"readingGuide\"]:before {\n            content: 'border_horizontal';\n        }\n        ._access-menu ul li[data-access-action=\"textToSpeech\"]:before {\n            content: 'record_voice_over';\n        }\n        ._access-menu ul li[data-access-action=\"speechToText\"]:before {\n            content: 'mic';\n        }\n        ";c.injectStyle(e,{className:"_access-main-css"}),c.deployedObjects.set("._access-main-css",!1)}injectIcon(){let e="width: "+this.options.icon.dimensions.width.size+this.options.icon.dimensions.width.units+";height: "+this.options.icon.dimensions.height.size+this.options.icon.dimensions.height.units+";font-size: "+this.options.icon.dimensions.width.size+this.options.icon.dimensions.width.units+";background-color: "+this.options.icon.backgroundColor+";color: "+this.options.icon.color;for(let t in this.options.icon.position)e+=";"+t+":"+this.options.icon.position[t].size+this.options.icon.position[t].units;e+=";z-index: "+this.options.icon.zIndex;let t="_access-icon material-icons _access"+(this.options.icon.circular?" circular":""),i=c.jsonToHtml({type:"i",attrs:{class:t,style:e,title:this.options.labels.menuTitle},children:[{type:"#text",text:this.options.icon.img}]});return this.body.appendChild(i),c.deployedObjects.set("._access-icon",!1),i}injectMenu(){let e=c.jsonToHtml({type:"div",attrs:{class:"_access-menu close _access"},children:[{type:"h3",attrs:{class:"_text-center"},children:[{type:"i",attrs:{class:"_menu-close-btn _menu-btn material-icons",title:this.options.labels.closeTitle},children:[{type:"#text",text:"close"}]},{type:"#text",text:this.options.labels.menuTitle},{type:"i",attrs:{class:"_menu-reset-btn _menu-btn material-icons",title:this.options.labels.refreshTitle},children:[{type:"#text",text:"refresh"}]}]},{type:"ul",attrs:{class:this.options.animations.buttons?"before-collapse":""},children:[{type:"li",attrs:{"data-access-action":"increaseText"},children:[{type:"#text",text:this.options.labels.increaseText}]},{type:"li",attrs:{"data-access-action":"decreaseText"},children:[{type:"#text",text:this.options.labels.decreaseText}]},{type:"li",attrs:{"data-access-action":"increaseTextSpacing"},children:[{type:"#text",text:this.options.labels.increaseTextSpacing}]},{type:"li",attrs:{"data-access-action":"decreaseTextSpacing"},children:[{type:"#text",text:this.options.labels.decreaseTextSpacing}]},{type:"li",attrs:{"data-access-action":"invertColors"},children:[{type:"#text",text:this.options.labels.invertColors}]},{type:"li",attrs:{"data-access-action":"grayHues"},children:[{type:"#text",text:this.options.labels.grayHues}]},{type:"li",attrs:{"data-access-action":"underlineLinks"},children:[{type:"#text",text:this.options.labels.underlineLinks}]},{type:"li",attrs:{"data-access-action":"bigCursor"},children:[{type:"div",attrs:{id:"iconBigCursor"}},{type:"#text",text:this.options.labels.bigCursor}]},{type:"li",attrs:{"data-access-action":"readingGuide"},children:[{type:"#text",text:this.options.labels.readingGuide}]},{type:"li",attrs:{"data-access-action":"textToSpeech"},children:[{type:"#text",text:this.options.labels.textToSpeech}]},{type:"li",attrs:{"data-access-action":"speechToText"},children:[{type:"#text",text:this.options.labels.speechToText}]}]}]});for(let t in this.options.icon.position)e.classList.add(t);return this.body.appendChild(e),setTimeout((function(){let e=document.getElementById("iconBigCursor");e.outerHTML=e.outerHTML+'<svg version="1.1" id="iconBigCursorSvg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="position: absolute;width: 19px;height: 19px;left: 17px;enable-background:new 0 0 512 512;" xml:space="preserve"><path d="M 423.547 323.115 l -320 -320 c -3.051 -3.051 -7.637 -3.947 -11.627 -2.304 s -6.592 5.547 -6.592 9.856 V 480 c 0 4.501 2.837 8.533 7.083 10.048 c 4.224 1.536 8.981 0.192 11.84 -3.285 l 85.205 -104.128 l 56.853 123.179 c 1.792 3.883 5.653 6.187 9.685 6.187 c 1.408 0 2.837 -0.277 4.203 -0.875 l 74.667 -32 c 2.645 -1.131 4.736 -3.285 5.76 -5.973 c 1.024 -2.688 0.939 -5.675 -0.277 -8.299 l -57.024 -123.52 h 132.672 c 4.309 0 8.213 -2.603 9.856 -6.592 C 427.515 330.752 426.598 326.187 423.547 323.115 Z"/></svg>',document.getElementById("iconBigCursor").remove()}),1),c.deployedObjects.set("._access-menu",!1),document.querySelector("._access-menu ._menu-close-btn").addEventListener("click",()=>{this.toggleMenu()},!1),document.querySelector("._access-menu ._menu-reset-btn").addEventListener("click",()=>{this.resetAll()},!1),e}addListeners(){let e=document.querySelectorAll("._access-menu ul li");for(let t=0;t<e.length;t++)e[t].addEventListener("click",e=>{let t=e||window.event;this.invoke(t.target.getAttribute("data-access-action"))},!1)}disableUnsupportedModules(){for(let e in this.options.modules)if(!this.options.modules[e]){let t=document.querySelector('li[data-access-action="'+e+'"]');t&&t.classList.add("not-supported")}}resetAll(){this.menuInterface.textToSpeech(!0),this.menuInterface.speechToText(!0),this.menuInterface.underlineLinks(!0),this.menuInterface.grayHues(!0),this.menuInterface.invertColors(!0),this.menuInterface.bigCursor(!0),this.menuInterface.readingGuide(!0),this.resetTextSize(),this.resetTextSpace()}resetTextSize(){this.resetIfDefined(this.initialValues.body.fontSize,this.body.style,"fontSize");let e=document.querySelectorAll("[data-init-font-size]");for(let t=0;t<e.length;t++)e[t].style.fontSize=e[t].getAttribute("data-init-font-size"),e[t].removeAttribute("data-init-font-size")}resetTextSpace(){this.resetIfDefined(this.initialValues.body.wordSpacing,this.body.style,"wordSpacing"),this.resetIfDefined(this.initialValues.body.letterSpacing,this.body.style,"letterSpacing");let e=document.querySelectorAll("[data-init-word-spacing]"),t=document.querySelectorAll("[data-init-letter-spacing]");for(let t=0;t<e.length;t++)e[t].style.wordSpacing=e[t].getAttribute("data-init-word-spacing"),e[t].removeAttribute("data-init-word-spacing");for(let i=0;i<t.length;i++)e[i].style.letterSpacing=e[i].getAttribute("data-init-letter-spacing"),e[i].removeAttribute("data-init-letter-spacing")}alterTextSize(e){let t=2;if(e||(t*=-1),this.options.textPixelMode){let e=document.querySelectorAll("*:not(._access)");for(let i=0;i<e.length;i++){let n=getComputedStyle(e[i]).fontSize;n&&n.indexOf("px")>-1&&(e[i].getAttribute("data-init-font-size")||e[i].setAttribute("data-init-font-size",n),n=1*n.replace("px","")+t,e[i].style.fontSize=n+"px")}}else{let e=c.getFormattedDim(getComputedStyle(this.body).fontSize);void 0===this.initialValues.body.fontSize&&(this.initialValues.body.fontSize=e.size+e.sufix),e&&e.sufix&&!isNaN(1*e.size)&&(this.body.style.fontSize=1*e.size+t+e.sufix)}}alterTextSpace(e){let t=1;if(e||(t*=-1),this.options.textPixelMode){let e=document.querySelectorAll("*:not(._access)"),i=Array.prototype.slice.call(document.querySelectorAll("._access-menu *"));for(let n=0;n<e.length;n++){if(i.includes(e[n]))continue;let s=e[n].style.wordSpacing;s&&s.indexOf("px")>-1?(e[n].getAttribute("data-init-word-spacing")||e[n].setAttribute("data-init-word-spacing",s),s=1*s.replace("px","")+t,e[n].style.wordSpacing=s+"px"):(e[n].setAttribute("data-init-word-spacing",s),e[n].style.wordSpacing=t+"px");let o=e[n].style.letterSpacing;o&&o.indexOf("px")>-1?(e[n].getAttribute("data-init-letter-spacing")||e[n].setAttribute("data-init-letter-spacing",o),o=1*o.replace("px","")+t,e[n].style.letterSpacing=o+"px"):(e[n].setAttribute("data-init-letter-spacing",o),e[n].style.letterSpacing=t+"px")}}else{let e=c.getFormattedDim(getComputedStyle(this.body).wordSpacing);void 0===this.initialValues.body.wordSpacing&&(this.initialValues.body.wordSpacing=""),e&&e.sufix&&!isNaN(1*e.size)&&(this.body.style.wordSpacing=1*e.size+t+e.sufix);let i=c.getFormattedDim(getComputedStyle(this.body).letterSpacing);void 0===this.initialValues.body.letterSpacing&&(this.initialValues.body.letterSpacing=""),i&&i.sufix&&!isNaN(1*i.size)&&(this.body.style.letterSpacing=1*i.size+t+i.sufix)}}speechToText(){"webkitSpeechRecognition"in window&&(this.recognition=new webkitSpeechRecognition,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.onstart=()=>{this.body.classList.add("_access-listening")},this.recognition.onend=()=>{this.body.classList.remove("_access-listening")},this.recognition.onresult=e=>{let t="";if(void 0!==e.results){for(let i=e.resultIndex;i<e.results.length;++i)e.results[i].isFinal&&(t+=e.results[i][0].transcript);t&&this.speechToTextTarget&&(this.speechToTextTarget.parentElement.classList.remove("_access-listening"),"input"==this.speechToTextTarget.tagName.toLowerCase()||"textarea"==this.speechToTextTarget.tagName.toLowerCase()?this.speechToTextTarget.value=t:null!=this.speechToTextTarget.getAttribute("contenteditable")&&(this.speechToTextTarget.innerText=t))}},this.recognition.lang=this.options.speechToTextLang,this.recognition.start())}textToSpeech(e){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)return;let t=new window.SpeechSynthesisUtterance(e);t.lang=this.options.textToSpeechLang;let i=window.speechSynthesis.getVoices(),n=!1;for(let e=0;e<i.length;e++)if(i[e].lang===t.lang){t.voice=i[e],n=!0;break}n||c.warn("text to speech language not supported!"),window.speechSynthesis.speak(t)}listen(){"object"==typeof l.recognition&&"function"==typeof l.recognition.stop&&l.recognition.stop(),l.speechToTextTarget=window.event.target,l.speechToText(window.event.target.innerText)}read(){window.event.preventDefault(),window.event.stopPropagation(),l.textToSpeech(window.event.target.innerText)}toggleMenu(){this.menu.classList.contains("close")?(this.options.animations&&this.options.animations.buttons&&setTimeout(()=>{this.menu.querySelector("ul").classList.toggle("before-collapse")},500),setTimeout(()=>{this.menu.classList.toggle("close")},10)):this.options.animations&&this.options.animations.buttons?(setTimeout(()=>{this.menu.classList.toggle("close")},500),setTimeout(()=>{this.menu.querySelector("ul").classList.toggle("before-collapse")},10)):this.menu.classList.toggle("close")}invoke(e){"function"==typeof this.menuInterface[e]&&this.menuInterface[e]()}build(){if(this.initialValues={underlineLinks:!1,textToSpeech:!1,bigCursor:!1,readingGuide:!1,body:{},html:{}},this.body=document.body||document.getElementsByTagName("body")[0],this.html=document.documentElement||document.getElementsByTagName("html")[0],this.injectCss(),this.icon=this.injectIcon(),this.menu=this.injectMenu(),this.addListeners(),this.disableUnsupportedModules(),this.icon.addEventListener("click",()=>{this.toggleMenu()},!1),setTimeout(()=>{this.icon.style.opacity="1"},10),window.SpeechSynthesisUtterance||window.speechSynthesis){window.speechSynthesis.getVoices()}this.menuInterface={increaseText:()=>{this.alterTextSize(!0)},decreaseText:()=>{this.alterTextSize(!1)},increaseTextSpacing:()=>{this.alterTextSpace(!0)},decreaseTextSpacing:()=>{this.alterTextSpace(!1)},invertColors:e=>{if(void 0===this.initialValues.html.backgroundColor&&(this.initialValues.html.backgroundColor=getComputedStyle(this.html).backgroundColor),void 0===this.initialValues.html.color&&(this.initialValues.html.color=getComputedStyle(this.html).color),e)return this.resetIfDefined(this.initialValues.html.backgroundColor,this.html.style,"backgroundColor"),this.resetIfDefined(this.initialValues.html.color,this.html.style,"color"),document.querySelector('._access-menu [data-access-action="invertColors"]').classList.remove("active"),void(this.initialValues.invertColors=!1);document.querySelector('._access-menu [data-access-action="invertColors"]').classList.toggle("active"),this.initialValues.invertColors=!this.initialValues.invertColors,this.initialValues.invertColors?(this.initialValues.grayHues&&this.menuInterface.grayHues(!0),this.html.style.filter="invert(1)"):this.html.style.filter=""},grayHues:e=>{if(void 0===this.initialValues.html.filter&&(this.initialValues.html.filter=getComputedStyle(this.html).filter),void 0===this.initialValues.html.webkitFilter&&(this.initialValues.html.webkitFilter=getComputedStyle(this.html).webkitFilter),void 0===this.initialValues.html.mozFilter&&(this.initialValues.html.mozFilter=getComputedStyle(this.html).mozFilter),void 0===this.initialValues.html.msFilter&&(this.initialValues.html.msFilter=getComputedStyle(this.html).msFilter),e)return document.querySelector('._access-menu [data-access-action="grayHues"]').classList.remove("active"),this.initialValues.grayHues=!1,this.resetIfDefined(this.initialValues.html.filter,this.html.style,"filter"),this.resetIfDefined(this.initialValues.html.webkitFilter,this.html.style,"webkitFilter"),this.resetIfDefined(this.initialValues.html.mozFilter,this.html.style,"mozFilter"),void this.resetIfDefined(this.initialValues.html.msFilter,this.html.style,"msFilter");let t;document.querySelector('._access-menu [data-access-action="grayHues"]').classList.toggle("active"),this.initialValues.grayHues=!this.initialValues.grayHues,this.initialValues.grayHues?(t="grayscale(1)",this.initialValues.invertColors&&this.menuInterface.invertColors(!0)):t="",this.html.style.webkitFilter=t,this.html.style.mozFilter=t,this.html.style.msFilter=t,this.html.style.filter=t},underlineLinks:e=>{let t="_access-underline",i=()=>{let e=document.querySelector("."+t);e&&(e.parentElement.removeChild(e),c.deployedObjects.remove("."+t))};if(e)return this.initialValues.underlineLinks=!1,document.querySelector('._access-menu [data-access-action="underlineLinks"]').classList.remove("active"),i();if(document.querySelector('._access-menu [data-access-action="underlineLinks"]').classList.toggle("active"),this.initialValues.underlineLinks=!this.initialValues.underlineLinks,this.initialValues.underlineLinks){let e="\n                    body a {\n                        text-decoration: underline !important;\n                    }\n                ";c.injectStyle(e,{className:t}),c.deployedObjects.set("."+t,!0)}else i()},bigCursor:e=>{if(e)return this.html.classList.remove("_access_cursor"),document.querySelector('._access-menu [data-access-action="bigCursor"]').classList.remove("active"),void(this.initialValues.bigCursor=!1);document.querySelector('._access-menu [data-access-action="bigCursor"]').classList.toggle("active"),this.initialValues.bigCursor=!this.initialValues.bigCursor,this.html.classList.toggle("_access_cursor")},readingGuide:e=>{if(e)return null!=document.getElementById("access_read_guide_bar")&&document.getElementById("access_read_guide_bar").remove(),document.querySelector('._access-menu [data-access-action="readingGuide"]').classList.remove("active"),this.initialValues.readingGuide=!1,void(document.body.onmousemove=null);if(document.querySelector('._access-menu [data-access-action="readingGuide"]').classList.toggle("active"),this.initialValues.readingGuide=!this.initialValues.readingGuide,this.initialValues.readingGuide){let e=document.createElement("div");e.id="access_read_guide_bar",e.classList.add("access_read_guide_bar"),document.body.append(e);let t=this;document.body.onmousemove=function(e){document.getElementById("access_read_guide_bar").style.top=e.y-(parseInt(t.options.guide.height.replace("px"))+5)+"px"}}else null!=document.getElementById("access_read_guide_bar")&&document.getElementById("access_read_guide_bar").remove(),document.body.onmousemove=null},textToSpeech:e=>{let t="_access-text-to-speech",i=()=>{let e=document.querySelector("."+t);e&&(e.parentElement.removeChild(e),document.removeEventListener("click",this.read,!1),c.deployedObjects.remove("."+t))};if(e)return document.querySelector('._access-menu [data-access-action="textToSpeech"]').classList.remove("active"),this.initialValues.textToSpeech=!1,i();if(document.querySelector('._access-menu [data-access-action="textToSpeech"]').classList.toggle("active"),this.initialValues.textToSpeech=!this.initialValues.textToSpeech,this.initialValues.textToSpeech){let e="\n                        *:hover {\n                            box-shadow: 2px 2px 2px rgba(180,180,180,0.7);\n                        }\n                    ";c.injectStyle(e,{className:t}),c.deployedObjects.set("."+t,!0),document.addEventListener("click",this.read,!1)}else i()},speechToText:e=>{let t="_access-speech-to-text",i=()=>{this.recognition&&(this.recognition.stop(),this.body.classList.remove("_access-listening"));let e=document.querySelector("."+t);e&&(e.parentElement.removeChild(e),c.deployedObjects.remove("."+t));let i=document.querySelectorAll("._access-mic");for(let e=0;e<i.length;e++)i[e].removeEventListener("focus",this.listen,!1),i[e].classList.remove("_access-mic")};if(e)return document.querySelector('._access-menu [data-access-action="speechToText"]').classList.remove("active"),this.initialValues.speechToText=!1,i();if(document.querySelector('._access-menu [data-access-action="speechToText"]').classList.toggle("active"),this.initialValues.speechToText=!this.initialValues.speechToText,this.initialValues.speechToText){let e="\n                        body:after {\n                            content: 'mic';\n                            font-family: 'Material Icons';\n                            position: fixed;\n                            z-index: 1100;\n                            top: 1vw;\n                            right: 1vw;\n                            width: 36px;\n                            height: 36px;\n                            font-size: 30px;\n                            line-height: 36px;\n                            border-radius: 50%;\n                            background: rgba(255,255,255,0.7);\n                            display: flex;\n                            justify-content: center;\n                            aling-items: center;\n                        }\n\n                        body._access-listening:after {\n                            animation: _access-listening-animation 2s infinite ease;\n                        }\n\n                        @keyframes _access-listening-animation {\n                            0%  {background-color: transparent;}\n                            50%  {background-color: #EF9A9A;}\n                        }\n                    ";c.injectStyle(e,{className:t}),c.deployedObjects.set("."+t,!0);let i=document.querySelectorAll('input[type="text"], input[type="search"], textarea, [contenteditable]');for(let e=0;e<i.length;e++)i[e].addEventListener("blur",()=>{"object"==typeof this.recognition&&"function"==typeof this.recognition.stop&&this.recognition.stop()},!1),i[e].addEventListener("focus",this.listen,!1),i[e].parentElement.classList.add("_access-mic")}else i()}}}resetIfDefined(e,t,i){void 0!==e&&(t[i]=e)}destroy(){let e=c.deployedObjects.getAll();for(let t of e){let e=document.querySelector(t);e&&e.parentElement.removeChild(e)}}}r.init=e=>{c.warn('"Accessibility.init()" is deprecated! Please use "new Accessibility()" instead'),new r(e)};var u=r;window.Accessibility=u}])}));